"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[551],{93649:function(X,b,a){a.r(b),a.d(b,{default:function(){return G}});var L=a(27424),d=a.n(L),t=a(67294),V=a(73529),Z=a(98053),A=a(93563),F=a(39814),P=a(93858),j={webBody:"webBody___jWmZC",webIframe:"webIframe___bByq7"},n=a(85893),p=(0,t.createContext)({}),I=415,N=function(e){var o=e.children,h=e.setScale,f=(0,t.useState)(window.innerWidth),u=d()(f,2),v=u[0],x=u[1],g=(0,t.useState)(window.innerHeight),w=d()(g,2),m=w[0],y=w[1],c=function(){x(window.innerWidth),y(window.innerHeight),h(window.innerWidth>1600?1:(window.innerWidth-10)/1600)};return(0,t.useEffect)(function(){return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}},[]),(0,n.jsx)(p.Provider,{value:{width:v,height:m},children:o})},E=function(){var e=(0,t.useContext)(p),o=e.width,h=e.height;return{width:o,height:h}},O=function(){var e=E(),o=e.width;return o<I?(0,n.jsx)(A.Z,{}):(0,n.jsx)(V.Z,{})},T=function(){var e=E(),o=e.width;return o<I?(0,n.jsx)(F.Z,{}):(0,n.jsx)(Z.Z,{})},D=function(e){var o=e.global.language,h=(0,t.useState)(localStorage.getItem("evalRoute")||"/main/eval?"),f=d()(h,2),u=f[0],v=f[1],x=(0,t.useState)(""),g=d()(x,2),w=g[0],m=g[1],y=(0,t.useState)(1200),c=d()(y,2),C=c[0],J=c[1],K=(0,t.useState)(1600),H=d()(K,2),M=H[0],z=H[1],Q=(0,t.useState)(window.innerWidth>1600?1:(window.innerWidth-10)/1600),B=d()(Q,2),S=B[0],R=B[1];return(0,t.useEffect)(function(){var i=(o||localStorage.getItem("umi_locale")||navigator.language).toLowerCase();m(i==="zh"||i==="zh-cn"?"zh":"en")},[o]),(0,t.useEffect)(function(){var i=document.getElementById("webBody");navigator.userAgent.toLowerCase().indexOf("mobile")!==-1?(i.removeAttribute("style"),z(window.innerWidth),R(1)):(i.style.transform="scale(".concat(S,")"),z(1600))},[S]),window.addEventListener("message",function(i){if(i.data.type==="sizeChange")J(i.data.height+10);else if(i.data.type==="urlChange"){var s=i.data.url,r=s.match(new RegExp("(?<=).+(?=lang)"));if(s.indexOf("eval")>=0)if(r===null){if(s!==u){var W;((W=s.match(/[^?]+(?=\?)/))===null||W===void 0?void 0:W.length)>0?(v(s),localStorage.setItem("evalRoute",s)):(v("".concat(s,"?")),localStorage.setItem("evalRoute","".concat(s,"?")))}}else r!==null&&(r==null?void 0:r.length)>0&&r[0]!==u&&(v(r[0]),localStorage.setItem("evalRoute",r[0]))}},!1),(0,n.jsxs)(N,{setScale:R,children:[(0,n.jsx)(O,{setEvalRoute:v}),(0,n.jsx)("div",{style:{height:C*S},className:j.webBody,children:(0,n.jsx)("iframe",{id:"webBody",className:j.webIframe,style:{transform:"scale(".concat(S,")")},height:C,width:M,src:"https://tech.openeglab.org.cn".concat(u,"&lang=").concat(w)})}),(0,n.jsx)(T,{})]})},G=(0,P.connect)(function(l){var e=l.global;return{global:e}})(D)}}]);
