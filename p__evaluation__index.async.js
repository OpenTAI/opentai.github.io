"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[551],{74281:function(B,C,t){t.r(C);var O=t(27424),h=t.n(O),n=t(67294),D=t(73529),M=t(98053),R=t(93563),b=t(39814),I=t(93858),o=t(85893),P=(0,n.createContext)({}),L=function(e){var a=e.children,i=(0,n.useState)(window.innerWidth),v=h()(i,2),d=v[0],l=v[1],E=(0,n.useState)(window.innerHeight),g=h()(E,2),w=g[0],f=g[1],c=function(){l(window.innerWidth),f(window.innerHeight)};return(0,n.useEffect)(function(){return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}},[]),(0,o.jsx)(P.Provider,{value:{width:d,height:w},children:a})},S=function(){var e=(0,n.useContext)(P),a=e.width,i=e.height;return{width:a,height:i}},x=function(){var e=S(),a=e.width,i=415;return a<i?(0,o.jsx)(R.Z,{}):(0,o.jsx)(D.Z,{})},W=function(){var e=S(),a=e.width,i=415;return a<i?(0,o.jsx)(b.Z,{}):(0,o.jsx)(M.Z,{})},j=function(e){var a=e.global.language,i=(0,n.useState)(localStorage.getItem("evalRoute")||"/main/eval?"),v=h()(i,2),d=v[0],l=v[1],E=(0,n.useState)(""),g=h()(E,2),w=g[0],f=g[1],c=(0,n.useState)(1200),m=h()(c,2),A=m[0],T=m[1];return(0,n.useEffect)(function(){},[]),(0,n.useEffect)(function(){var _=(a||localStorage.getItem("umi_locale")||navigator.language).toLowerCase();f(_==="zh"||_==="zh-cn"?"zh":"en")},[a]),window.addEventListener("message",function(_){if(_.data.type==="sizeChange")T(_.data.height+10);else if(_.data.type==="urlChange"){var s=_.data.url,r=s.match(new RegExp("(?<=).+(?=lang)"));if(s.indexOf("eval")>=0)if(r===null){if(s!==d){var p;((p=s.match(/[^?]+(?=\?)/))===null||p===void 0?void 0:p.length)>0?(l(s),localStorage.setItem("evalRoute",s)):(l("".concat(s,"?")),localStorage.setItem("evalRoute","".concat(s,"?")))}}else r!==null&&(r==null?void 0:r.length)>0&&r[0]!==d&&(l(r[0]),localStorage.setItem("evalRoute",r[0]))}},!1),(0,o.jsxs)(L,{children:[(0,o.jsx)(x,{setEvalRoute:l}),(0,o.jsx)("iframe",{style:{border:"none"},height:A,width:"100%",src:"https://tech.openeglab.org.cn".concat(d,"&lang=").concat(w)}),(0,o.jsx)(W,{})]})};C.default=(0,I.connect)(function(u){var e=u.global;return{global:e}})(j)}}]);
