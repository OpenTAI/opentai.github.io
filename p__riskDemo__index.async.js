"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[300],{85894:function(O,j,t){t.r(j),t.d(j,{default:function(){return N}});var W=t(27424),u=t.n(W),a=t(67294),b=t(73529),L=t(98053),V=t(93563),k=t(39814),E=t(93858),R={webBody:"webBody___Tnfhu",webIframe:"webIframe___BNm6a"},n=t(85893),y=(0,a.createContext)({}),B=function(e){var o=e.children,i=e.setScale,g=(0,a.useState)(window.innerWidth),l=u()(g,2),v=l[0],S=l[1],f=(0,a.useState)(window.innerHeight),w=u()(f,2),m=w[0],x=w[1],c=function(){S(window.innerWidth),x(window.innerHeight),i((window.innerWidth-10)/1600)};return(0,a.useEffect)(function(){return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}},[]),(0,n.jsx)(y.Provider,{value:{width:v,height:m},children:o})},H=function(){var e=(0,a.useContext)(y),o=e.width,i=e.height;return{width:o,height:i}},D=function(){var e=H(),o=e.width,i=415;return o<i?(0,n.jsx)(V.Z,{}):(0,n.jsx)(b.Z,{})},F=function(){var e=H(),o=e.width,i=415;return o<i?(0,n.jsx)(k.Z,{}):(0,n.jsx)(L.Z,{})},Z=function(e){var o=e.global.language,i=(0,a.useState)(localStorage.getItem("riskRoute")||"/main/dss?"),g=u()(i,2),l=g[0],v=g[1],S=(0,a.useState)(""),f=u()(S,2),w=f[0],m=f[1],x=(0,a.useState)(1200),c=u()(x,2),p=c[0],P=c[1],T=(0,a.useState)(window.innerWidth>1600?1:(window.innerWidth-10)/1600),I=u()(T,2),z=I[0],A=I[1];return(0,a.useEffect)(function(){var d=(o||localStorage.getItem("umi_locale")||navigator.language).toLowerCase();m(d==="zh"||d==="zh-cn"?"zh":"en")},[o]),window.addEventListener("message",function(d){if(d.data.type==="sizeChange")P(d.data.height+10);else if(d.data.type==="urlChange"){var s=d.data.url,r=s.match(new RegExp("(?<=).+(?=lang)"));if(s.indexOf("dss")>=0)if(r===null){if(s!==l){var C;((C=s.match(/[^?]+(?=\?)/))===null||C===void 0?void 0:C.length)>0?(v(s),localStorage.setItem("riskRoute",s)):(v("".concat(s,"?")),localStorage.setItem("riskRoute","".concat(s,"?")))}}else r!==null&&(r==null?void 0:r.length)>0&&r[0]!==l&&(v(r[0]),localStorage.setItem("riskRoute",r[0]))}},!1),(0,n.jsxs)(B,{setScale:A,children:[(0,n.jsx)(D,{setRiskRoute:v}),(0,n.jsx)("div",{style:{height:p*z},className:R.webBody,children:(0,n.jsx)("iframe",{className:R.webIframe,style:{transform:"scale(".concat(z,")")},height:p,width:1600,src:"https://tech.openeglab.org.cn".concat(l,"&lang=").concat(w)})}),(0,n.jsx)(F,{})]})},N=(0,E.connect)(function(h){var e=h.global;return{global:e}})(Z)}}]);
