"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[300],{85894:function(Q,p,a){a.r(p),a.d(p,{default:function(){return T}});var E=a(27424),d=a.n(E),t=a(67294),V=a(73529),A=a(98053),k=a(93563),D=a(39814),F=a(93858),W={webBody:"webBody___Tnfhu",webIframe:"webIframe___BNm6a"},n=a(85893),j=(0,t.createContext)({}),I=415,Z=function(e){var o=e.children,v=e.setScale,c=(0,t.useState)(window.innerWidth),l=d()(c,2),h=l[0],x=l[1],g=(0,t.useState)(window.innerHeight),w=d()(g,2),m=w[0],y=w[1],f=function(){x(window.innerWidth),y(window.innerHeight),navigator.userAgent.toLowerCase().indexOf("mobile")===-1&&v(window.innerWidth>1600?1:(window.innerWidth-10)/1600)};return(0,t.useEffect)(function(){return window.addEventListener("resize",f),function(){return window.removeEventListener("resize",f)}},[]),(0,n.jsx)(j.Provider,{value:{width:h,height:m},children:o})},R=function(){var e=(0,t.useContext)(j),o=e.width,v=e.height;return{width:o,height:v}},N=function(){var e=R(),o=e.width;return o<I?(0,n.jsx)(k.Z,{}):(0,n.jsx)(V.Z,{})},O=function(){var e=R(),o=e.width;return o<I?(0,n.jsx)(D.Z,{}):(0,n.jsx)(A.Z,{})},P=function(e){var o=e.global.language,v=(0,t.useState)(localStorage.getItem("riskRoute")||"/main/dss?"),c=d()(v,2),l=c[0],h=c[1],x=(0,t.useState)(""),g=d()(x,2),w=g[0],m=g[1],y=(0,t.useState)(1300),f=d()(y,2),C=f[0],G=f[1],J=(0,t.useState)(1600),H=d()(J,2),K=H[0],z=H[1],M=(0,t.useState)(window.innerWidth>1600?1:(window.innerWidth-10)/1600),B=d()(M,2),S=B[0],L=B[1];return(0,t.useEffect)(function(){var i=(o||localStorage.getItem("umi_locale")||navigator.language).toLowerCase();m(i==="zh"||i==="zh-cn"?"zh":"en")},[o]),(0,t.useEffect)(function(){var i=document.getElementById("webBody");navigator.userAgent.toLowerCase().indexOf("mobile")!==-1?(i.removeAttribute("style"),z(window.innerWidth),L(1)):(i.style.transform="scale(".concat(S,")"),z(1600))},[S]),window.addEventListener("message",function(i){if(i.data.type==="sizeChange")G(i.data.height+10);else if(i.data.type==="urlChange"){var s=i.data.url,r=s.match(new RegExp("(?<=).+(?=lang)"));if(s.indexOf("dss")>=0)if(r===null){if(s!==l){var b;((b=s.match(/[^?]+(?=\?)/))===null||b===void 0?void 0:b.length)>0?(h(s),localStorage.setItem("riskRoute",s)):(h("".concat(s,"?")),localStorage.setItem("riskRoute","".concat(s,"?")))}}else r!==null&&(r==null?void 0:r.length)>0&&r[0]!==l&&(h(r[0]),localStorage.setItem("riskRoute",r[0]))}},!1),(0,n.jsxs)(Z,{setScale:L,children:[(0,n.jsx)(N,{setRiskRoute:h}),(0,n.jsx)("div",{style:{height:C*S},className:W.webBody,children:(0,n.jsx)("iframe",{id:"webBody",className:W.webIframe,style:{transform:"scale(".concat(S,")")},height:C,width:K,src:"https://tech.openeglab.org.cn".concat(l,"&lang=").concat(w)})}),(0,n.jsx)(O,{})]})},T=(0,F.connect)(function(u){var e=u.global;return{global:e}})(P)}}]);
