"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[300],{85894:function(Q,W,a){a.r(W),a.d(W,{default:function(){return O}});var L=a(27424),d=a.n(L),t=a(67294),V=a(73529),k=a(98053),A=a(93563),D=a(39814),F=a(93858),b={webBody:"webBody___Tnfhu",webIframe:"webIframe___BNm6a"},n=a(85893),j=(0,t.createContext)({}),I=415,Z=function(e){var o=e.children,v=e.setScale,f=(0,t.useState)(window.innerWidth),l=d()(f,2),h=l[0],x=l[1],g=(0,t.useState)(window.innerHeight),w=d()(g,2),m=w[0],y=w[1],c=function(){x(window.innerWidth),y(window.innerHeight),v(window.innerWidth>1600?1:(window.innerWidth-10)/1600)};return(0,t.useEffect)(function(){return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}},[]),(0,n.jsx)(j.Provider,{value:{width:h,height:m},children:o})},R=function(){var e=(0,t.useContext)(j),o=e.width,v=e.height;return{width:o,height:v}},N=function(){var e=R(),o=e.width;return o<I?(0,n.jsx)(A.Z,{}):(0,n.jsx)(V.Z,{})},P=function(){var e=R(),o=e.width;return o<I?(0,n.jsx)(D.Z,{}):(0,n.jsx)(k.Z,{})},T=function(e){var o=e.global.language,v=(0,t.useState)(localStorage.getItem("riskRoute")||"/main/dss?"),f=d()(v,2),l=f[0],h=f[1],x=(0,t.useState)(""),g=d()(x,2),w=g[0],m=g[1],y=(0,t.useState)(1300),c=d()(y,2),C=c[0],G=c[1],J=(0,t.useState)(1600),H=d()(J,2),K=H[0],z=H[1],M=(0,t.useState)(window.innerWidth>1600?1:(window.innerWidth-10)/1600),B=d()(M,2),S=B[0],E=B[1];return(0,t.useEffect)(function(){var i=(o||localStorage.getItem("umi_locale")||navigator.language).toLowerCase();m(i==="zh"||i==="zh-cn"?"zh":"en")},[o]),(0,t.useEffect)(function(){var i=document.getElementById("webBody");navigator.userAgent.toLowerCase().indexOf("mobile")!==-1?(i.removeAttribute("style"),z(window.innerWidth),E(1)):(i.style.transform="scale(".concat(S,")"),z(1600))},[S]),window.addEventListener("message",function(i){if(i.data.type==="sizeChange")G(i.data.height+10);else if(i.data.type==="urlChange"){var s=i.data.url,r=s.match(new RegExp("(?<=).+(?=lang)"));if(s.indexOf("dss")>=0)if(r===null){if(s!==l){var p;((p=s.match(/[^?]+(?=\?)/))===null||p===void 0?void 0:p.length)>0?(h(s),localStorage.setItem("riskRoute",s)):(h("".concat(s,"?")),localStorage.setItem("riskRoute","".concat(s,"?")))}}else r!==null&&(r==null?void 0:r.length)>0&&r[0]!==l&&(h(r[0]),localStorage.setItem("riskRoute",r[0]))}},!1),(0,n.jsxs)(Z,{setScale:E,children:[(0,n.jsx)(N,{setRiskRoute:h}),(0,n.jsx)("div",{style:{height:C*S},className:b.webBody,children:(0,n.jsx)("iframe",{id:"webBody",className:b.webIframe,style:{transform:"scale(".concat(S,")")},height:C,width:K,src:"https://tech.openeglab.org.cn".concat(l,"&lang=").concat(w)})}),(0,n.jsx)(P,{})]})},O=(0,F.connect)(function(u){var e=u.global;return{global:e}})(T)}}]);
